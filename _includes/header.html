<!-- begin header -->
<header class="header">
  <div class="container">
    <div class="row">
      <div class="header__inner col col-12">

        <div class="logo">
          <a class="logo__link" href="{{ site.baseurl }}/">
          {% if site.data.settings.logo %}
            <img class="logo__image" src="{{ site.baseurl }}{{ site.data.settings.logo }}" alt="{{ site.data.settings.title }}">
          {% else %}
            {{ site.data.settings.title }}
          {% endif %}
          </a>
        </div>

        <nav class="main-nav">
          <div class="main-nav__box">
            <div class="nav__icon-close">
              <ion-icon name="close"></ion-icon>
            </div>
            <div class="nav__title">Menu</div>
            <ul class="nav__list list-reset">
              {% for item in site.data.settings.menu__settings.menu__items %}
                <li class="nav__item{% if item.submenu %} has-submenu{% endif %}">
                  <a href="{{ item.url | relative_url }}" class="nav__link{% if page.url == item.url %} nav__link--current{% endif %}">
                    {{ item.title }}
                    {% if item.submenu %}
                      <ion-icon name="chevron-down" class="submenu-icon"></ion-icon>
                    {% endif %}
                  </a>
                  {% if item.submenu %}
                    <ul class="submenu list-reset">
                      {% for subitem in item.submenu %}
                        <li class="submenu__item">
                          <a href="{{ subitem.url | relative_url }}" class="submenu__link{% if page.url contains subitem.url %} submenu__link--current{% endif %}">{{ subitem.title }}</a>
                        </li>
                      {% endfor %}
                    </ul>
                  {% endif %}
                </li>
              {% endfor %}
              <li class="nav__item">
                <div class="toggle-theme">
                  <div class="toggle-moon" title="Enable dark mode"><ion-icon name="moon"></ion-icon></div>
                  <div class="toggle-sun" title="Enable light mode"><ion-icon name="sunny"></ion-icon></div>
                </div>
              </li>
            </ul>
          </div>
        </nav>

        <div class="nav-button">
          <ion-icon name="menu" class="nav__icon nav__icon-menu"></ion-icon>
        </div>

      </div>
    </div>
  </div>
</header>
<!-- end header -->

<script>
// Submenu toggle for mobile
document.addEventListener('DOMContentLoaded', function() {
  const submenuItems = document.querySelectorAll('.has-submenu > .nav__link');

  submenuItems.forEach(function(link) {
    link.addEventListener('click', function(e) {
      // Only prevent default and toggle on mobile/tablet (when nav is overlay)
      if (window.innerWidth <= 1024) {
        e.preventDefault();
        const parentItem = this.parentElement;
        parentItem.classList.toggle('submenu-open');
      }
    });
  });
});
</script>